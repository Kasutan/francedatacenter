/*--------------------------------------------------------------
## Links
--------------------------------------------------------------*/
:root {
	--transition:0.5s ease-in-out;
}
a,
a:visited {
	color: var(--cyan);
	transition: color var(--transition);
}

a:hover,
a:active,
a:focus {
	color: var(--bleu);
}

a:focus {
	outline: thin dotted;
}

a:hover,
a:active {
	outline: 0;
}

.fleche {
	text-align: center;

	a {
		--lien:var(--cyan);

		color:var(--lien);
		display: inline-block;
		font-size: 122%;
		font-weight:700;
		line-height:1.36;
		margin:2em auto;
		padding:8px;
		position: relative;
		text-decoration: none;
		transition-property: border,color;

		&::after {
			background-color: var(--lien);
			bottom:8px;
			content:'';
			display: block;
			height:2px;
			left:-8px;
			position: relative;
			width:100%;
			width:calc(100% + 16px);
		}
		
		svg {
			margin-left: 6px;
			max-width:6px;
			position: relative;
			top:4px;
			@include bp(md) {
				margin-left: 8px;
				max-width:11px;
				top:2px;
			}

			path {
				fill:var(--lien);
				transition: fill var(--transition);

			}

			
		}

		&:hover, &:focus, &:active {
			--lien : var(--bleu);
			&::after {
				animation: animTrait 1s cubic-bezier(0.7,0,0.3,1) both;
			}
		}
	}
	

	/*Variante avec les couleurs inversées*/
	&.bleu {
		a {
			--lien : var(--bleu);
			&:hover, &:focus, &:active {
				--lien : var(--cyan);
			}
		}
		
	}
	&.blanc {
		a {
			--lien : var(--blanc);
			&:hover, &:focus, &:active {
				--lien : var(--blanc);
			}
		}
		
	}


	
}
@keyframes animTrait {
	from { 
		width: 0; 
	}
}
/*--------------------------------------------------------------
## Ancres
--------------------------------------------------------------*/
.avec-ancre {
	position: relative;
	.ancre {
		left:0;
		position:absolute;
		top:calc(-1px * var(--header-bottom));
	}
}

/*--------------------------------------------------------------
## Fil d'ariane
--------------------------------------------------------------*/
p.fil-ariane {
	margin-bottom:28px;
	a {
		text-decoration: none;
	}
}
/*--------------------------------------------------------------
## Menus
--------------------------------------------------------------*/

/*Logique pour afficher/masquer éléments du menu mobile et sous-menus*/ 

.main-navigation {
	clear: both;
	display: block;

	ul {
		display: none; // par défaut le menu est caché en mobile
		list-style: none;
		margin: 0;
		padding-left: 0;

		ul {
			display: flex;
			flex-direction: column;
		}

	}

	.menu-toggle {
		display: block;
	}

	svg.times { //croix pour refermer le menu
		display:none;
	}

	&.toggled { //menu mobile ouvert
		ul.menu {
			align-items:center;
			background-color:var(--gris-fond-clair);
			box-shadow: 0 3px 3px rgba(0, 0, 0, 0.2);
			display: flex;
			flex-direction: column;
			height: 100Vh;
			left:0;
			overflow-y: auto;
			padding:42px 0;
			position:absolute;
			top:150px; 
			top:var(--header-bottom); // calculé en JS, tient compte de la topbar
			width:100vw;
			z-index: 10;
		}

		svg.menu { //cacher hamburger 
			display:none;
		}
		svg.times { // afficher croix
			display:block;
		}
	}


	@include bp(md) { //menu 
		width: 100%;

		.menu-toggle {
			display: none;
		}

		ul.menu {
			align-items: center;
			display: flex;
			justify-content: flex-end;

			ul { //sous-menu
				background-color:var(--blanc);
				border: solid 1px #EAE7E1;
				float: left;
				margin-top:0px;
				position: absolute;
				top: 90%;
				left: -999em;
				z-index: 10;
			}

			> li { //affichage du sous-menu
				position: relative;
				&:hover, &.focus { //classe .focus ajoutée en JS
					ul {
						left: calc(50% - 130px);
						padding:20px;
						width:260px;
					}
				}
			}
		}

		//Menu sticky desktop : liens alignés à droite
		&.sticky {
			ul.menu {
				justify-content: flex-end;
			}
		}

	}
	
}


/* Style pictos menu mobile */

.menu-toggle {
	background:transparent;
	border:0;
	margin-left: auto;
	margin-right: 0;
	max-width:60px;
	&:hover, &:focus, &:active {
		background:transparent;
	}
}

/*Style liens de menus*/ 

.main-navigation {
	li {
		padding: 20px 1rem;	
		text-align:center;
	}

	a {
		color:var(--noir);
		display: block;
		font-weight: 500;
		text-decoration: none;

		&:hover, &:focus, &:active {
			color :var(--bleu);
		}
	}

	.current-menu-item > a, .current-menu-ancestor > a {
		color:var(--cyan);
	}

	//sous-menu
	ul.menu {
		ul {
			padding-top:2rem;
			li {
				padding:0.5rem;
				margin-left:0;
				a {
					font-size:1rem;
					text-transform: unset;
				}
			} 

			
		}
	}

	
	


	//Lien de menu vers l'accès client (lien externe)
	li.client a {
		font-size:1rem;
		text-transform: unset;

		background-image:url('icons/Acces-Client.svg');
		background-repeat: no-repeat;
		background-position: left center ;
		background-size:25px auto;
		line-height:25px;
		padding-left: 34px;	
	}

}

//Lien de menu vers l'accès client déplacé en haut à droite (uniquement en desktop si l'en-tête n'est pas sticky)
@include bp(md) {
	.site-header:not(.sticky) {
		padding-bottom:51px;
		padding-top:42px;
		position: relative;
		li.client {
			position: absolute;
			right:var(--padding-x);
			top:-5px;
		}

	}
}
